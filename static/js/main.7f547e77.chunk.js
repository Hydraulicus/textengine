(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(t,e,a){t.exports={canvases:"Index_canvases__1jvry",canvaContainer:"Index_canvaContainer__18NXF",serviceCanvas:"Index_serviceCanvas__uD8GG"}},26:function(t,e,a){t.exports=a.p+"static/media/elephant.43105bae.svg"},27:function(t,e,a){t.exports=a.p+"static/media/horse.aa2e0ee6.svg"},28:function(t,e,a){t.exports=a.p+"static/media/react.5d5d9eef.svg"},29:function(t,e,a){t.exports=a.p+"static/media/rooster.0da0e356.svg"},38:function(t,e,a){t.exports=a(50)},43:function(t,e,a){},49:function(t,e,a){},50:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(14),r=a.n(o),c=(a(43),a(17)),s=a(9),l=a(25),h=a.n(l),d=a(70),u=a(75),f=a(78),m=a(77),g=a(76),v=a(71),p=a(79),w=a(73),x=a(72),y=a(74),b=a(26),E=a.n(b),T=a(27),O=a.n(T),S=a(28),C=a.n(S),j=a(29),D=a.n(j),N={elephant:E.a,horse:O.a,react:C.a,rooster:D.a},k=Object(d.a)(function(t){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:t.palette.background.paper},gridList:{cursor:"pointer",textTransform:"capitalize",width:500,height:450},icon:{color:"gray",backgroundColor:"rgba(255, 255, 255, 0.54)",borderRadius:"50%",width:"1.2rem",height:"1.2rem",marginRight:"1rem"},info:{fontSize:"0.5rem"}}}),I=[{img:N.elephant,title:"elephant",author:"Nature"},{img:N.horse,title:"horse",author:"Nature"},{img:N.rooster,title:"rooster",author:"Nature"},{img:N.react,title:"react",author:"Facebook"}],R=function(t){var e=t.eventHandler,a=k();return i.a.createElement("div",{className:a.root},i.a.createElement(v.a,{cellHeight:180,className:a.gridList},i.a.createElement(p.a,{key:"Subheader",cols:2,style:{height:"auto"}},i.a.createElement(x.a,{component:"div"},"Please choose mascot")),I.map(function(t){return i.a.createElement(p.a,{key:t.img},i.a.createElement("img",{src:t.img,alt:t.title,onClick:function(t){e({mascot:t.target.alt})}}),i.a.createElement(w.a,{title:t.title,subtitle:i.a.createElement("span",null,"by: ",t.author),actionIcon:i.a.createElement(y.a,{"aria-label":"info about ".concat(t.title),className:a.icon},i.a.createElement("span",{className:a.info},"i"))}))})))},P=a(18),_=a.n(P),A=a(22),z=a(31),H=function(t){var e=t.fontSize||F(t.element,"font-size")||"100px",a=(t.fontWeight||F(t.element,"font-weight")||"normal")+" "+e+" "+(t.fontFamily||F(t.element,"font-family")||"Arial"),n=Q(t.text,a),i=document.createElement("canvas"),o=i.getContext("2d");i.width=n.width,i.height=1.2*n.height,o.font=a,o.fillText(t.text,0,e.replace("px",""));var r=o.getImageData(0,0,i.width,i.height),c=L({width:i.width,height:i.height,imageData:r,options:t});return c.foundTopText?c.foundBottomText?{width:n.width,height:c.bottomTextY-c.topTextY,yOffset:-c.topTextY}:{width:n.width,height:i.height-c.topTextY,yOffset:-c.topTextY}:{width:n.width,height:0,yOffset:0}},Q=function(t,e){var a=document.createElement("div");a.style.position="fixed",a.style.top="0px",a.style.left="0px",a.style.width="0px",a.style.height="0px",a.style.overflow="hidden";var n=document.createElement("span");n.style.font=e,n.innerText=t,document.body.appendChild(n);var i=n.getBoundingClientRect();return document.body.removeChild(n),i};function W(t,e){this.x=0,this.y=0,this.index=0,this.moveRight=function(){this.arePixelsToTheRight()?(this.x++,this.index+=4):this.moveDown()},this.moveDown=function(){this.x=0,this.y++,this.index=this.y*t*4},this.arePixelsToTheRight=function(){return this.x<t-1},this.noMorePixels=function(){return this.index>=t*e*4-4}}var L=function(t){for(var e,a=new W(t.width,t.height),n=!1,i=!1,o=null,r=null;!a.noMorePixels();)if(n){if(!a.arePixelsToTheRight()){if(e){r=a.y,i=!0;break}e=!0,a.moveDown()}B(t.imageData,a.index)?a.moveRight():(e=!1,a.moveDown())}else B(t.imageData,a.index)?a.moveRight():(o=a.y,n=!0,a.moveDown());return{foundTopText:n,foundBottomText:i,topTextY:o,bottomTextY:r}};function B(t,e){return 0===t.data[e+3]}function F(t,e){return t?window.getComputedStyle(t)[e]:null}var M=function(t){for(var e=t.ctx,a=t.imageData,n=t.amplitude,i=t.curve,o=.5*a.width||e.width/2,r=n<0?-1:0,c=e.createImageData(a.width,a.height+n),s=0;s<a.height;s++)for(var l=0;l<a.width;l++){var h=[a.data[4*(s*a.width+l)+0],a.data[4*(s*a.width+l)+1],a.data[4*(s*a.width+l)+2],a.data[4*(s*a.width+l)+3]],d=(l-o)/o,u=s+(Math.round(n*i(d))+r*n);c.data[4*(u*c.width+l)+0]=h[0],c.data[4*(u*c.width+l)+1]=h[1],c.data[4*(u*c.width+l)+2]=h[2],c.data[4*(u*c.width+l)+3]=h[3]}return c},Y=function(t){var e=t.ctx,a=t.tCtx,n=t.text,i=void 0===n?"1234567890abcdefghihklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ":n,o=t.fontSize,r=void 0===o?80:o,c=t.fontFamily,s=void 0===c?"PirataOne-Regular":c,l=t.width,h=void 0===l?3400:l,d=t.offsetTop,u=void 0===d?50:d,f=t.distortion,m=void 0===f?0:f,g=t.lineWidth,v=void 0===g?3:g,p=t.fillStyle,w=void 0===p?"#4444f1":p,x=t.designedSize,y=(void 0===x?{width:3600,height:3600}:x).height,b=e.canvas,E=b.width,T=b.height,O=T/y;e.fillStyle="rgba(10,0,0, 0.05)",e.fillRect(0,0,E,T);var S=H({text:i,fontSize:"".concat(O*r,"px"),fontFamily:s}),C=S.width,j=S.height,D=h/C>1?h/C:1,N=H({text:i,fontSize:"".concat(O*r*D,"px"),fontFamily:s}).height,k={x0:E/2-h/2,y0:0,x:E/2,y:N};if(a.fillStyle=w,a.lineWidth=v,a.stroke(),a.textAlign="center",a.font="".concat(O*r*D,"px ").concat(s),a.fillText(i,k.x,N/1.025,h),a.strokeText(i,k.x,N/1.025,h),0!==m){var I=a.getImageData(k.x0-1,k.y0-1,h+2,N+2*Math.abs(O*m)),R=M({ctx:a,imageData:I,amplitude:O*m,curve:function(t){return t*t}});a.putImageData(R,k.x0-1,k.y0-1)}var P=new Image;return P.src=a.canvas.toDataURL(),a.clearRect(0,0,a.canvas.width,a.canvas.height),new Promise(function(t){P.onload=function(){e.drawImage(P,0,0-O*u,E,N+2*Math.abs(O*m)+O*u,0,k.y0,E,j+2*Math.abs(O*m)+O*u),t("drown")}})},G=function(t){var e=t.ctx,a=t.id,n=void 0===a?"elephant":a,i=new Image(e.canvas.width,e.canvas.height);return i.src=N[n],new Promise(function(t){i.onload=function(){e.drawImage(i,0,0,e.canvas.width,e.canvas.height),t("drown")}})};function J(t,e,a){return U.apply(this,arguments)}function U(){return(U=Object(A.a)(_.a.mark(function t(e,a,n){var i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.canva,e.fillStyle="#fff",e.save(),t.next=5,G({ctx:e,id:n.mascot});case 5:return t.next=7,Y({ctx:e,tCtx:a,text:"Top Sign".toUpperCase(),fontSize:1e3,width:.85*i.width,offsetTop:100,lineWidth:6,fillStyle:"#226",distortion:500});case 7:return t.next=9,Y({ctx:e,tCtx:a,text:"Bottom Sign".toUpperCase(),fontSize:1200,width:.85*i.width,offsetTop:2200,lineWidth:6,fillStyle:"#226",distortion:-500});case 9:return t.abrupt("return",new Promise(function(t){e.restore(),t("all are drown")}));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function q(t){var e=function(t){var e=Object(n.useState)(Object(s.a)({},JSON.parse(localStorage.getItem("draw-app")),t)),a=Object(c.a)(e,2),i=a[0],o=a[1];return Object(n.useEffect)(function(){localStorage.setItem("draw-app",JSON.stringify(i))}),[i,o]}(t),a=Object(c.a)(e,2),i=a[0],o=a[1],r=Object(n.useRef)(null),l=Object(n.useRef)(null),h=function(t){r.current.toBlob(function(e){Object(z.saveAs)(e,t)})};function d(){return(d=Object(A.a)(_.a.mark(function t(e,a,n){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e,a,n);case 2:n.saveLQ&&(h("export_LQ_".concat(Date.now(),".png")),o(Object(s.a)({},n,{saveLQ:!1}))),n.saveHQ&&(h("export_HQ_".concat(Date.now(),".png")),o(Object(s.a)({},n,{saveHQ:!1,canva:{width:720,height:720}})));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Object(n.useEffect)(function(){var t=i.canva,e=r.current,a=l.current,n=e.getContext("2d"),o=a.getContext("2d");e.setAttribute("width",t.width),e.setAttribute("height",t.height),a.setAttribute("width",t.width),a.setAttribute("height",t.height),n.clearRect(0,0,window.innerWidth,window.innerHeight),function(t,e,a){d.apply(this,arguments)}(n,o,i)}),[i,o,r,l]}var V=a(19),X=a.n(V),K=(a(49),Object(d.a)(function(t){return{root:{flexGrow:1},paper:{padding:t.spacing(2),textAlign:"center",margin:"auto",color:t.palette.text.secondary}}})),Z={canva:{width:3600,height:3600}},$=Object(s.a)({saveHQ:!1,saveLQ:!1},{canva:{width:720,height:720}});var tt=function(){var t=q(Object(s.a)({},$)),e=Object(c.a)(t,4),a=e[0],o=e[1],r=e[2],l=e[3],d=K();return i.a.createElement(n.Fragment,null,i.a.createElement(u.a,{container:!0,spacing:3,className:d.root},i.a.createElement(u.a,{item:!0,xs:12},i.a.createElement(R,{eventHandler:function(t){o(Object(s.a)({},a,t))}})),i.a.createElement(u.a,{item:!0,xs:5},i.a.createElement(g.a,{className:d.paper},"Options")),i.a.createElement(u.a,{item:!0,xs:7},i.a.createElement("div",{className:X.a.canvaContainer},i.a.createElement("canvas",{id:"THEMAINCANVAS",className:X.a.canvases,ref:r}))),i.a.createElement(u.a,{container:!0,justify:"center"},i.a.createElement(m.a,{variant:"contained","aria-label":"small contained button group"},i.a.createElement(f.a,{onClick:function(){o(Object(s.a)({},a,{saveLQ:!0}))}},"Save as low-quality PNG (72 DPI)"),i.a.createElement(f.a,{onClick:function(){o(Object(s.a)({},a,{saveHQ:!0},Z))}},"Save as high-quality PNG (300 DPI)")))),i.a.createElement("canvas",{className:h()(X.a.serviceCanvas,X.a.canvases),ref:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.7f547e77.chunk.js.map